# 坐标系使用示例

## 常见应用场景

### 场景1：全国范围数据浏览

**适用坐标系：** CGCS2000地理坐标系 (EPSG:4490) 或 WGS84 (EPSG:4326)

**使用方法：**
1. 打开MiniGIS
2. 点击"坐标系"按钮
3. 选择"CGCS2000 地理"或"WGS84"
4. 添加全国范围的矢量数据

**优点：**
- 覆盖全球/全国
- 无投影变形（经纬度）
- 适合浏览和查询

**缺点：**
- 不适合距离和面积测量
- 在高纬度地区变形较大

---

### 场景2：北京市测绘工作

**推荐坐标系：** CGCS2000 / 3-degree Gauss-Kruger zone 40 (EPSG:4506)

**中央经线：** 120°E  
**覆盖范围：** 东经 118.5° - 121.5°  
**北京市中心：** 约东经116°，在此分带范围内

**使用方法：**
1. 设置坐标系为 EPSG:4506
2. 添加北京市行政区划数据
3. 系统自动投影到CGCS2000 zone 40

**适用区域：**
- 北京市
- 天津市
- 河北东部

---

### 场景3：上海市城市规划

**推荐坐标系：** CGCS2000 / 3-degree Gauss-Kruger zone 40 (EPSG:4506)

**中央经线：** 120°E  
**上海市中心：** 约东经121.5°

**或使用：** CGCS2000 / 3-degree Gauss-Kruger zone 41 (EPSG:4507)  
**中央经线：** 123°E（更精确）

**使用方法：**
1. 根据项目要求选择zone 40或zone 41
2. 添加城市规划数据
3. 进行精确测量和分析

---

### 场景4：青藏高原地质调查

**推荐坐标系：** CGCS2000 / 3-degree Gauss-Kruger zone 31 (EPSG:4497)

**中央经线：** 93°E  
**覆盖范围：** 东经 91.5° - 94.5°

**使用方法：**
1. 设置坐标系为 EPSG:4497
2. 添加地质图数据
3. 进行地形分析

**注意事项：**
- 高海拔地区投影可能有轻微变形
- 建议使用高程数据进行三维分析

---

### 场景5：沿海城市（中央经线命名）

**推荐坐标系：** CGCS2000 / 3-degree Gauss-Kruger CM 120E (EPSG:4506对应的CM版本)

**与带号版本的区别：**
- 带号版本：false_easting = 带号×1000000 + 500000
- CM版本：false_easting = 500000

**使用场景：**
- 不需要带号信息
- 简化坐标值
- 跨带数据整合

---

## 3度带中央经线对照表

| 带号 | 中央经线 | EPSG代码(带号) | EPSG代码(CM) | 覆盖区域示例 |
|------|---------|---------------|-------------|-------------|
| 25   | 75°E    | 4491          | 4513        | 新疆西部 |
| 26   | 78°E    | 4492          | 4514        | 新疆中西部 |
| 27   | 81°E    | 4493          | 4515        | 新疆东部 |
| 28   | 84°E    | 4494          | 4516        | 新疆东部、甘肃西部 |
| 29   | 87°E    | 4495          | 4517        | 甘肃、青海 |
| 30   | 90°E    | 4496          | -           | 青海、西藏 |
| 31   | 93°E    | 4497          | -           | 西藏、青海 |
| 32   | 96°E    | 4498          | -           | 青海、四川西部 |
| 33   | 99°E    | 4499          | -           | 四川、云南 |
| 34   | 102°E   | 4500          | -           | 四川、重庆 |
| 35   | 105°E   | 4501          | -           | 重庆、贵州 |
| 36   | 108°E   | 4502          | -           | 陕西、甘肃 |
| 37   | 111°E   | 4503          | -           | 山西、河南 |
| 38   | 114°E   | 4504          | -           | 河南、湖北 |
| 39   | 117°E   | 4505          | -           | 安徽、江苏 |
| 40   | 120°E   | 4506          | -           | 江苏、上海、浙江 |
| 41   | 123°E   | 4507          | -           | 浙江、福建 |
| 42   | 126°E   | 4508          | -           | 福建、台湾 |
| 43   | 129°E   | 4509          | -           | 黑龙江、吉林 |
| 44   | 132°E   | 4510          | -           | 黑龙江东部 |
| 45   | 135°E   | 4511          | -           | 东海海域 |

---

## 如何选择合适的坐标系

### 1. 根据工作区域选择

```
计算中央经线 = (数据最小经度 + 数据最大经度) / 2
选择最接近的3度带中央经线
```

**示例：**
- 数据范围：东经 115° - 118°
- 中心经线：116.5°
- 推荐选择：zone 39 (117°E) 或 zone 40 (120°E)

### 2. 根据数据来源选择

如果数据已经有坐标系信息：
1. 查看数据的.prj文件或元数据
2. 使用相同的坐标系避免不必要的投影
3. 如需统一，选择最接近数据中心的坐标系

### 3. 根据精度要求选择

**低精度要求（>100米）：**
- 可使用地理坐标系
- 或跨度较大的投影坐标系

**高精度要求（<10米）：**
- 必须使用投影坐标系
- 选择最接近工作区域的中央经线
- 避免跨带作业

---

## WKT示例

### CGCS2000地理坐标系

```
GEOGCS["China Geodetic Coordinate System 2000",
  DATUM["China_2000",
    SPHEROID["CGCS2000",6378137,298.257222101,
      AUTHORITY["EPSG","1024"]],
    AUTHORITY["EPSG","1043"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["degree",0.0174532925199433,
    AUTHORITY["EPSG","9122"]],
  AXIS["Latitude",NORTH],
  AXIS["Longitude",EAST],
  AUTHORITY["EPSG","4490"]]
```

### CGCS2000 zone 36投影坐标系

```
PROJCS["CGCS2000 / 3-degree Gauss-Kruger zone 36",
  GEOGCS["China Geodetic Coordinate System 2000",
    DATUM["China_2000",
      SPHEROID["CGCS2000",6378137,298.257222101]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433]],
  PROJECTION["Transverse_Mercator"],
  PARAMETER["latitude_of_origin",0],
  PARAMETER["central_meridian",108],
  PARAMETER["scale_factor",1],
  PARAMETER["false_easting",36500000],
  PARAMETER["false_northing",0],
  UNIT["metre",1],
  AUTHORITY["EPSG","4502"]]
```

---

## 常见问题

### Q1: 为什么有些数据加载后显示不正确？

**A:** 可能是坐标系不匹配。检查：
1. 数据的原始坐标系
2. 地图的当前坐标系
3. 尝试切换到数据的原始坐标系

### Q2: 如何知道数据的坐标系？

**A:** 
1. 查看Shapefile的.prj文件
2. 使用QGIS/ArcGIS等工具查看属性
3. 查看数据元数据文档

### Q3: 投影后数据偏移怎么办？

**A:** 
1. 确认源坐标系和目标坐标系设置正确
2. 检查数据是否有高程偏移
3. 尝试使用7参数转换（需要专业软件）

### Q4: 可以使用北京54或西安80坐标系吗？

**A:** 当前版本暂不支持，未来会添加。可以先用QGIS等工具转换到CGCS2000。

---

## 技术支持

如有问题，请查看：
- `docs/CRS_FEATURE.md` - 完整功能说明
- `CHANGELOG_CRS.md` - 更新日志
- GitHub Issues - 提交问题和建议
